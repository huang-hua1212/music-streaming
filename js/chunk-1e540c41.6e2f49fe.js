(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1e540c41"],{"6e8b":function(t,e,n){"use strict";n.r(e);var c=n("7a23"),o=function(t){return Object(c["pushScopeId"])("data-v-6c58bb48"),t=t(),Object(c["popScopeId"])(),t},a={style:{width:"60%","margin-left":"20%","margin-top":"20vh",height:"40%"}},r={class:"container",style:{"border-radius":"5px","background-color":"white",padding:"5vh","padding-bottom":"4%"}},i={class:"table",style:{"text-align":"center"}},d={style:{width:"2vh","padding-left":"11vh"}},l={style:{width:"8.6vh","padding-top":"2vh","padding-bottom":"2vh"}},s=["src"],u={style:{"padding-top":"5vh"}},p={style:{"padding-top":"5vh"}},h={style:{width:"18vh"}},b={class:"row",style:{"padding-left":"4vh","padding-top":"3vh"}},m={class:"wrapper"},v=["onClick"],g={class:"num"},f=["onClick"],j={style:{"padding-top":"4vh"}},O=["onClick"],y=o((function(){return Object(c["createElementVNode"])("td",null,null,-1)})),N=o((function(){return Object(c["createElementVNode"])("td",null,null,-1)})),E=o((function(){return Object(c["createElementVNode"])("td",null,null,-1)})),C=o((function(){return Object(c["createElementVNode"])("td",null,null,-1)})),V={style:{"font-size":"4vh","padding-right":"10vh"}},w={style:{position:"relative"}};function k(t,e,n,o,k,I){var P=Object(c["resolveComponent"])("loading");return Object(c["openBlock"])(),Object(c["createElementBlock"])(c["Fragment"],null,[Object(c["createElementVNode"])("div",a,[Object(c["createElementVNode"])("div",r,[Object(c["createElementVNode"])("table",i,[Object(c["createElementVNode"])("tbody",null,[(Object(c["openBlock"])(!0),Object(c["createElementBlock"])(c["Fragment"],null,Object(c["renderList"])(k.productsInCart,(function(t){return Object(c["openBlock"])(),Object(c["createElementBlock"])("tr",{key:t.product.id},[Object(c["createElementVNode"])("td",d,[Object(c["createElementVNode"])("div",l,[Object(c["createElementVNode"])("img",{src:t.product.imageUrl,style:{width:"100%"},alt:"圖片未加載完成"},null,8,s)])]),Object(c["createElementVNode"])("td",u,Object(c["toDisplayString"])(t.product.title),1),Object(c["createElementVNode"])("td",p,Object(c["toDisplayString"])(t.product.price),1),Object(c["createElementVNode"])("td",h,[Object(c["createElementVNode"])("div",b,[Object(c["createElementVNode"])("div",m,[Object(c["createElementVNode"])("span",{class:"minus",onClick:Object(c["withModifiers"])((function(e){return I.decrement(t)}),["prevent"])},"-",8,v),Object(c["createElementVNode"])("span",g,Object(c["toDisplayString"])(t.qty),1),Object(c["createElementVNode"])("span",{class:"plus",onClick:Object(c["withModifiers"])((function(e){return I.increment(t)}),["prevent"])},"+",8,f)])])]),Object(c["createElementVNode"])("td",j,[Object(c["createElementVNode"])("h3",null,"$"+Object(c["toDisplayString"])(t.final_total),1),Object(c["createElementVNode"])("div",null,[Object(c["createElementVNode"])("a",{href:"#",onClick:Object(c["withModifiers"])((function(e){return I.deleteProduct(t)}),["prevent"])},"Remove ",8,O)])])])})),128))]),Object(c["createElementVNode"])("tfoot",null,[Object(c["createElementVNode"])("tr",null,[y,N,E,C,Object(c["createElementVNode"])("td",V,"總計: $"+Object(c["toDisplayString"])(I.allTotal),1)])])]),Object(c["createElementVNode"])("button",{type:"button",class:"btn btn-warning",style:{float:"right","margin-right":"12vh","margin-top":"10%","font-size":"3vh","font-weight":"bold","margin-bottom":"10vh"},onClick:e[0]||(e[0]=Object(c["withModifiers"])((function(){return I.toCheckPaymentStep2&&I.toCheckPaymentStep2.apply(I,arguments)}),["prevent"]))}," 下一步 ")])]),Object(c["createElementVNode"])("div",w,[Object(c["createVNode"])(P,{active:k.isLoading,"onUpdate:active":e[1]||(e[1]=function(t){return k.isLoading=t}),"can-cancel":!0,"is-full-page":!0},null,8,["active"])])],64)}n("d3b7"),n("99af"),n("ac1f"),n("00b4");var I=n("bc3a"),P=n.n(I),S={data:function(){return{isLoading:!1,productsInCart:[],currentStep:1}},created:function(){this.showLoading(),this.handleCompanyName(),this.loadProductsInCart()},mounted:function(){this.$emit("changeCurrentStep",1)},computed:{allTotal:function(){var t=this.productsInCart.reduce((function(t,e){var n=t;return n+=e.total,n}),0);return t}},methods:{showLoading:function(){var t=this;this.isLoading=!0,setTimeout((function(){t.isLoading=!1}),970)},decrement:function(t){var e=t;e.qty-=1,this.changeNumInCart(e)},increment:function(t){var e=t;e.qty+=1,this.changeNumInCart(e)},handleCompanyName:function(){this.$store.commit("addCompanyId","西打藍")},toCheckPaymentStep2:function(){this.$router.push("/checkout-payment-design/checkout-payment-designstep2")},loadProductsInCart:function(){var t=this;P.a.get("".concat("https://vue3-course-api.hexschool.io/v2","/api/").concat("record-shop","/cart")).then((function(e){t.productsInCart=e.data.data.carts,t.$emit("computProductLength",t.productsInCart.length)}))},changeNumInCart:function(t){var e=this;this.test=t;var n={product_id:t.product_id,qty:t.qty};P.a.put("".concat("https://vue3-course-api.hexschool.io/v2","/api/").concat("record-shop","/cart/").concat(t.id),{data:n}).then((function(){e.loadProductsInCart()}))},deleteProduct:function(t){var e=this;this.showLoading(),P.a.delete("".concat("https://vue3-course-api.hexschool.io/v2","/api/").concat("record-shop","/cart/").concat(t.id)).then((function(){e.loadProductsInCart()}))},deleteAllProductsInCart:function(){var t=this;this.showLoading(),P.a.delete("".concat("https://vue3-course-api.hexschool.io/v2","/api/").concat("record-shop","/carts")).then((function(){t.loadProductsInCart(),t.$router.push("/")}))}}},L=(n("a64c"),n("d959")),$=n.n(L);const x=$()(S,[["render",k],["__scopeId","data-v-6c58bb48"]]);e["default"]=x},a64c:function(t,e,n){"use strict";n("be52")},be52:function(t,e,n){}}]);
//# sourceMappingURL=chunk-1e540c41.6e2f49fe.js.map